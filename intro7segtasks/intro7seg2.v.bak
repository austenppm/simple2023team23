module counter_4digit(
  input clk,
  input rst,
  output reg [3:0] digit_sel,
  output reg [7:0] signal
);

  reg [3:0] count;
  reg [15:0] counter;

  intro7seg bcd_decoder(count, signal);

  always @(posedge clk or posedge rst) begin
    if (rst) begin
      counter <= 16'h0;
      digit_sel <= 4'b1110;
    end else begin
      counter <= counter + 1;
      if (counter == 16'h4FFF) begin
        count <= count + 1;
        case (digit_sel)
          4'b1110: digit_sel <= 4'b1101;
          4'b1101: digit_sel <= 4'b1011;
          4'b1011: digit_sel <= 4'b0111;
          4'b0111: digit_sel <= 4'b1110;
          default: digit_sel <= 4'b1110;
        endcase
      end
    end
  end
endmodule
 